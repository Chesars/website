{
  "name": "portainer",
  "slug": "portainer__portainer-mcp",
  "description": "Portainer MCP server",
  "readme": "# Portainer MCP\n[![Go Report Card](https://goreportcard.com/badge/github.com/portainer/portainer-mcp)](https://goreportcard.com/report/github.com/portainer/portainer-mcp)\n![coverage](https://raw.githubusercontent.com/portainer/portainer-mcp/badges/.badges/main/coverage.svg)\n\nEver wished you could just ask Portainer what's going on?\n\nNow you can! Portainer MCP connects your AI assistant directly to your Portainer environments. Manage Portainer resources such as users and environments, or dive deeper by executing any Docker or Kubernetes command directly through the AI.\n\n![portainer-mcp-demo](https://downloads.portainer.io/mcp-demo5.gif)\n\n## Overview\n\nPortainer MCP is a work in progress implementation of the [Model Context Protocol (MCP)](https://modelcontextprotocol.io/introduction) for Portainer environments. This project aims to provide a standardized way to connect Portainer's container management capabilities with AI models and other services.\n\nMCP (Model Context Protocol) is an open protocol that standardizes how applications provide context to LLMs (Large Language Models). Similar to how USB-C provides a standardized way to connect devices to peripherals, MCP provides a standardized way to connect AI models to different data sources and tools.\n\nThis implementation focuses on exposing Portainer environment data through the MCP protocol, allowing AI assistants and other tools to interact with your containerized infrastructure in a secure and standardized way.\n\n> [!NOTE]\n> This tool is designed to work with specific Portainer versions. If your Portainer version doesn't match the supported version, you can use the `--disable-version-check` flag to attempt connection anyway. See [Portainer Version Support](#portainer-version-support) for compatible versions and [Disable Version Check](#disable-version-check) for bypass instructions.\n\nSee the [Supported Capabilities](#supported-capabilities) sections for more details on compatibility and available features.\n\n*Note: This project is currently under development.*\n\nIt is currently designed to work with a Portainer administrator API token.\n\n## Installation\n\nYou can download pre-built binaries for Linux (amd64, arm64) and macOS (arm64) from the [**Latest Release Page**](https://github.com/portainer/portainer-mcp/releases/latest). Find the appropriate archive for your operating system and architecture under the \"Assets\" section.\n\n**Download the archive:**\nYou can usually download this directly from the release page. Alternatively, you can use `curl`. Here's an example for macOS (ARM64) version `v0.2.0`:\n\n```bash\n# Example for macOS (ARM64) - adjust version and architecture as needed\ncurl -Lo portainer-mcp-v0.2.0-darwin-arm64.tar.gz https://github.com/portainer/portainer-mcp/releases/download/v0.2.0/portainer-mcp-v0.2.0-darwin-arm64.tar.gz\n```\n\n(Linux AMD64 binaries are also available on the release page.)\n\n**(Optional but recommended) Verify the checksum:**\nFirst, download the corresponding `.md5` checksum file from the release page.\nExample for macOS (ARM64) `v0.2.0`:\n\n```bash\n# Download the checksum file (adjust version/arch)\ncurl -Lo portainer-mcp-v0.2.0-darwin-arm64.tar.gz.md5 https://github.com/portainer/portainer-mcp/releases/download/v0.2.0/portainer-mcp-v0.2.0-darwin-arm64.tar.gz.md5\n# Now verify (output should match the content of the .md5 file)\nif [ \"$(md5 -q portainer-mcp-v0.2.0-darwin-arm64.tar.gz)\" = \"$(cat portainer-mcp-v0.2.0-darwin-arm64.tar.gz.md5)\" ]; then echo \"OK\"; else echo \"FAILED\"; fi\n```\n\n(For Linux, you can use `md5sum -c <checksum_file_name>.md5`)\nIf the verification command outputs \"OK\", the file is intact.\n\n**Extract the archive:**\n\n```bash\n# Adjust the filename based on the downloaded version/OS/architecture\ntar -xzf portainer-mcp-v0.2.0-darwin-arm64.tar.gz\n```\n\nThis will extract the `portainer-mcp` executable.\n\n**Move the executable:**\nMove the executable to a location in your `$PATH` (e.g., `/usr/local/bin`) or note its location for the configuration step below.\n\n# Usage\n\nWith Claude Desktop, configure it like so:\n\n```\n{\n    \"mcpServers\": {\n        \"portainer\": {\n            \"command\": \"/path/to/portainer-mcp\",\n            \"args\": [\n                \"-server\",\n                \"[IP]:[PORT]\",\n                \"-token\",\n                \"[TOKEN]\",\n                \"-tools\",\n                \"/tmp/tools.yaml\"\n            ]\n        }\n    }\n}\n```\n\nReplace `[IP]`, `[PORT]` and `[TOKEN]` with the IP, port and API access token associated with your Portainer instance.\n\n> [!NOTE]\n> By default, the tool looks for \"tools.yaml\" in the same directory as the binary. If the file does not exist, it will be created there with the default tool definitions. You may need to modify this path as described above, particularly when using AI assistants like Claude that have restricted write permissions to the working directory.\n\n## Disable Version Check\n\nBy default, the application validates that your Portainer server version matches the supported version and will fail to start if there's a mismatch. If you have a Portainer server version that doesn't have a corresponding Portainer MCP version available, you can disable this version check to attempt connection anyway.\n\nTo disable the version check, add the `-disable-version-check` flag to your command arguments:\n\n```\n{\n    \"mcpServers\": {\n        \"portainer\": {\n            \"command\": \"/path/to/portainer-mcp\",\n            \"args\": [\n                \"-server\",\n                \"[IP]:[PORT]\",\n                \"-token\",\n                \"[TOKEN]\",\n                \"-disable-version-check\"\n            ]\n        }\n    }\n}\n```\n\n> [!WARNING]\n> Disabling the version check may result in unexpected behavior or API incompatibilities if your Portainer server version differs significantly from the supported version. The tool may work partially or not at all with unsupported versions.\n\nWhen using this flag:\n- The application will skip Portainer server version validation at startup\n- Some features may not work correctly due to API differences between versions\n- Newer Portainer versions may have API changes that cause errors\n- Older Portainer versions may be missing APIs that the tool expects\n\nThis flag is useful when:\n- You're running a newer Portainer version that doesn't have MCP support yet\n- You're running an older Portainer version and want to try the tool anyway\n\n## Tool Customization\n\nBy default, the tool definitions are embedded in the binary. The application will create a tools file at the default location if one doesn't already exist.\n\nYou can customize the tool definitions by specifying a custom tools file path using the `-tools` flag:\n\n```\n{\n    \"mcpServers\": {\n        \"portainer\": {\n            \"command\": \"/path/to/portainer-mcp\",\n            \"args\": [\n                \"-server\",\n                \"[IP]:[PORT]\",\n                \"-token\",\n                \"[TOKEN]\",\n                \"-tools\",\n                \"/path/to/custom/tools.yaml\"\n            ]\n        }\n    }\n}\n```\n\nThe default tools file is available for reference at `internal/tooldef/tools.yaml` in the source code. You can modify the descriptions of the tools and their parameters to alter how AI models interpret and decide to use them. You can even decide to remove some tools if you don't wish to use them.\n\n> [!WARNING]\n> Do not change the tool names or parameter definitions (other than descriptions), as this will prevent the tools from being properly registered and functioning correctly.\n\n## Read-Only Mode\n\nFor security-conscious users, the application can be run in read-only mode. This mode ensures that only read operations are available, completely preventing any modifications to your Portainer resources.\n\nTo enable read-only mode, add the `-read-only` flag to your command arguments:\n\n```\n{\n    \"mcpServers\": {\n        \"portainer\": {\n            \"command\": \"/path/to/portainer-mcp\",\n            \"args\": [\n                \"-server\",\n                \"[IP]:[PORT]\",\n                \"-token\",\n                \"[TOKEN]\",\n                \"-read-only\"\n            ]\n        }\n    }\n}\n```\n\nWhen using read-only mode:\n- Only read tools (list, get) will be available to the AI model\n- All write tools (create, update, delete) are not loaded\n- The Docker proxy requests tool is not loaded\n- The Kubernetes proxy requests tool is not loaded\n\n# Portainer Version Support\n\nThis tool is pinned to support a specific version of Portainer. The application will validate the Portainer server version at startup and fail if it doesn't match the required version.\n\n| Portainer MCP Version  | Supported Portainer Version |\n|--------------|----------------------------|\n| 0.1.0 | 2.28.1 |\n| 0.2.0 | 2.28.1 |\n| 0.3.0 | 2.28.1 |\n| 0.4.0 | 2.29.2 |\n| 0.4.1 | 2.29.2 |\n| 0.5.0 | 2.30.0 |\n| 0.6.0 | 2.31.2 |\n\n> [!NOTE]\n> If you need to connect to an unsupported Portainer version, you can use the `-disable-version-check` flag to bypass version validation. See the [Disable Version Check](#disable-version-check) section for more details and important warnings about using this feature.\n\n# Supported Capabilities\n\nThe following table lists the currently (latest version) supported operations through MCP tools:\n\n| Resource | Operation | Description | Supported In Version |\n|----------|-----------|-------------|----------------------|\n| **Environments** | | | |\n| | ListEnvironments | List all available environments | 0.1.0 |\n| | UpdateEnvironmentTags | Update tags associated with an environment | 0.1.0 |\n| | UpdateEnvironmentUserAccesses | Update user access policies for an environment | 0.1.0 |\n| | UpdateEnvironmentTeamAccesses | Update team access policies for an environment | 0.1.0 |\n| **Environment Groups (Edge Groups)** | | | |\n| | ListEnvironmentGroups | List all available environment groups | 0.1.0 |\n| | CreateEnvironmentGroup | Create a new environment group | 0.1.0 |\n| | UpdateEnvironmentGroupName | Update the name of an environment group | 0.1.0 |\n| | UpdateEnvironmentGroupEnvironments | Update environments associated with a group | 0.1.0 |\n| | UpdateEnvironmentGroupTags | Update tags associated with a group | 0.1.0 |\n| **Access Groups (Endpoint Groups)** | | | |\n| | ListAccessGroups | List all available access groups | 0.1.0 |\n| | CreateAccessGroup | Create a new access group | 0.1.0 |\n| | UpdateAccessGroupName | Update the name of an access group | 0.1.0 |\n| | UpdateAccessGroupUserAccesses | Update user accesses for an access group | 0.1.0 |\n| | UpdateAccessGroupTeamAccesses | Update team accesses for an access group | 0.1.0 |\n| | AddEnvironmentToAccessGroup | Add an environment to an access group | 0.1.0 |\n| | RemoveEnvironmentFromAccessGroup | Remove an environment from an access group | 0.1.0 |\n| **Stacks (Edge Stacks)** | | | |\n| | ListStacks | List all available stacks | 0.1.0 |\n| | GetStackFile | Get the compose file for a specific stack | 0.1.0 |\n| | CreateStack | Create a new Docker stack | 0.1.0 |\n| | UpdateStack | Update an existing Docker stack | 0.1.0 |\n| **Tags** | | | |\n| | ListEnvironmentTags | List all available environment tags | 0.1.0 |\n| | CreateEnvironmentTag | Create a new environment tag | 0.1.0 |\n| **Teams** | | | |\n| | ListTeams | List all available teams | 0.1.0 |\n| | CreateTeam | Create a new team | 0.1.0 |\n| | UpdateTeamName | Update the name of a team | 0.1.0 |\n| | UpdateTeamMembers | Update the members of a team | 0.1.0 |\n| **Users** | | | |\n| | ListUsers | List all available users | 0.1.0 |\n| | UpdateUser | Update an existing user | 0.1.0 |\n| | GetSettings | Get the settings of the Portainer instance | 0.1.0 |\n| **Docker** | | | |\n| | DockerProxy | Proxy ANY Docker API requests | 0.2.0 |\n| **Kubernetes** | | | |\n| | KubernetesProxy | Proxy ANY Kubernetes API requests | 0.3.0 |\n| | getKubernetesResourceStripped | Proxy GET Kubernetes API requests and automatically strip verbose metadata fields | 0.6.0 |\n\n# Development\n\n## Code Statistics\n\nThe repository includes a helper script `cloc.sh` to calculate lines of code and other metrics for the Go source files using the `cloc` tool. You might need to install `cloc` first (e.g., `sudo apt install cloc` or `brew install cloc`).\n\nRun the script from the repository root to see the default summary output:\n\n```bash\n./cloc.sh\n```\n\nRefer to the comment header within the `cloc.sh` script for details on available flags to retrieve specific metrics.\n\n## Token Counting\n\nTo get an estimate of how many tokens your current tool definitions consume in prompts, you can use the provided Go program and shell script to query the Anthropic API's token counting endpoint.\n\n**1. Generate the Tools JSON:**\n\nFirst, use the `token-count` Go program to convert your YAML tool definitions into the JSON format required by the Anthropic API. Run this from the repository root:\n\n```bash\n# Replace internal/tooldef/tools.yaml with your YAML file if different\n# Replace .tmp/tools.json with your desired output path\ngo run ./cmd/token-count -input internal/tooldef/tools.yaml -output .tmp/tools.json\n```\n\nThis command reads the tool definitions from the specified input YAML file and writes a JSON array of tools (containing `name`, `description`, and `input_schema`) to the specified output file.\n\n**2. Query the Anthropic API:**\n\nNext, use the `token.sh` script to send these tool definitions along with a sample message to the Anthropic API. You will need an Anthropic API key for this step.\n\n```bash\n# Ensure you have jq installed\n# Replace sk-ant-xxxxxxxx with your actual Anthropic API key\n# Replace .tmp/tools.json with the path to the file generated in step 1\n./token.sh -k sk-ant-xxxxxxxx -i .tmp/tools.json\n```\n\nThe script will output the JSON response from the Anthropic API, which includes the estimated token count for the provided tools and sample message under the `usage.input_tokens` field.\n\nThis process helps in understanding the token cost associated with the toolset provided to the language model.\n",
  "category": null,
  "qualityScore": 84,
  "githubUrl": "https://github.com/portainer/portainer-mcp",
  "programmingLanguage": "Go",
  "gitHubOrg": "portainer",
  "gitHubRepo": "portainer-mcp",
  "repositoryPath": null,
  "gh_stars": 47,
  "gh_contributors": 3,
  "gh_issues": 6,
  "gh_releases": true,
  "gh_ci_cd": true,
  "gh_latest_commit_hash": "783cf7fa44095d9d90459dfe73988c677f8ce3ae",
  "last_scraped_at": "2025-07-29T19:07:17.358Z",
  "implementing_tools": null,
  "implementing_prompts": null,
  "implementing_resources": null,
  "implementing_sampling": null,
  "implementing_roots": null,
  "implementing_logging": null,
  "implementing_stdio": null,
  "implementing_streamable_http": null,
  "implementing_oauth2": null
}